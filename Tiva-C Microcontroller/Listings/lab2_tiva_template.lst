


ARM Macro Assembler    Page 1 


    1 00000000         ;*------------------------------------------------------
                       ----------------------
    2 00000000         ;* Name:    Lab_2_program.s 
    3 00000000         ;* Purpose: This code template is for Lab 2 on the Tiva 
                       Board
    4 00000000         ;* Author: Eric Praetzel
    5 00000000         ;*
    6 00000000         ;* Dec 2017
    7 00000000         ;*------------------------------------------------------
                       ----------------------*/
    8 00000000         
    9 00000000         ; The setup code is based upon InputOutput.s from the bo
                       ok:
   10 00000000         ;  "Embedded Systems: Introduction to ARM Cortex M Micro
                       controllers"
   11 00000000         ;  ISBN: 978-1469998749, Jonathan Valvano, copyright (c)
                        2014
   12 00000000         ;
   13 00000000         
   14 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   15 00000000                 THUMB
   16 00000000                 EXPORT           Start
   17 00000000         
   18 00000000         ; One can define an address, or constant, using the EQUa
                       te directive to make inputs and outputs easier to use
   19 00000000         
   20 00000000 00000002 
                       RED     EQU              0x02        ; bit positions for
                                                             the Tiva board LED
                                                            s and switches all 
                                                            on port F
   21 00000000 00000004 
                       BLUE    EQU              0x04
   22 00000000 00000008 
                       GREEN   EQU              0x08
   23 00000000 00000010 
                       SW1     EQU              0x10        ; switch on the lef
                                                            t side of the Launc
                                                            hpad board
   24 00000000 00000001 
                       SW2     EQU              0x01        ; switch on the rig
                                                            ht side of the Laun
                                                            chpad board
   25 00000000         
   26 00000000 002932E0 
                       SOMEDELAY
                               EQU              2700000     ; a faster than 500
                                                            ms delay given the 
                                                            ~16 MHz clock
   27 00000000         
   28 00000000         Start
   29 00000000         
   30 00000000         ; Init the Ports for use - this has the side effect of t
                       urning off all LEDs 
   31 00000000 F000 F874       BL               Port_Init   ; initialize input 
                                                            and output pins of 
                                                            the Ports used in E
                                                            CE 222



ARM Macro Assembler    Page 2 


   32 00000004         ;Test  MOV R0, #1
   33 00000004         ;  BL DELAY
   34 00000004         ;  BL LED_ON
   35 00000004         ;  MOV R0, #1
   36 00000004         ;  BL DELAY
   37 00000004         ;  BL LED_OFF
   38 00000004         ;  B Test
   39 00000004         
   40 00000004         ; Demo how to use the speaker so it can be used as an op
                       tional signaling or debugging tool
   41 00000004         
   42 00000004 F04F 0102       MOV              R1, #2      ; pass in a 2 to ge
                                                            t a high pitched be
                                                            ep
   43 00000008 F000 F8BB       BL               SpeakerBeep
   44 0000000C         
   45 0000000C F04F 011E       MOV              R1, #30     ; pass in a 30 to g
                                                            et a lower pitched 
                                                            beep
   46 00000010 F000 F8B7       BL               SpeakerBeep
   47 00000014         
   48 00000014 F04F 0100       MOV              R1, #0      ; pass in a 0 to ge
                                                            t NO BEEP but the t
                                                            ime delay of a beep
                                                            
   49 00000018 F000 F8B3       BL               SpeakerBeep
   50 0000001C         
   51 0000001C F04F 0103       MOV              R1, #3      ; pass in a 3 to ge
                                                            t a high pitched be
                                                            ep
   52 00000020 F000 F8AF       BL               SpeakerBeep
   53 00000024         
   54 00000024         
   55 00000024         ResetLUT
   56 00000024 4D78            LDR              R5, =InputLUT ; assign R5 to th
                                                            e character string 
                                                            address: InputLUT
   57 00000026         
   58 00000026         NextChar
   59 00000026 7828            LDRB             R0, [R5]    ; Read a (byte) cha
                                                            racter to convert t
                                                            o a Morse pattern
   60 00000028 F105 0501       ADD              R5, #1      ; point to next cha
                                                            racter - increment 
                                                            the pointer by 1 by
                                                            te
   61 0000002C F090 0F00       TEQ              R0, #0      ; test if we hit 0 
                                                            (null at end of the
                                                             string) then reset
                                                             R5 to the start of
                                                             character string
   62 00000030 D104            BNE              ProcessChar ; If we have a char
                                                            acter process it
   63 00000032         
   64 00000032         ; If we read the null at end of the string - add the end
                        of string delay and then reset R5 to the start of chara
                       cter string
   65 00000032         
   66 00000032 F04F 0004       MOV              R0, #4      ; delay 4 extra spa



ARM Macro Assembler    Page 3 


                                                            ces (7 total) betwe
                                                            en words
   67 00000036 F000 F82F       BL               DELAY
   68 0000003A E7F3            B                ResetLUT
   69 0000003C         
   70 0000003C F000 F819 
                       ProcessChar
                               BL               CHAR2MORSE  ; convert ASCII to 
                                                            Morse pattern in R1
                                                              
   71 00000040         
   72 00000040         ; In the shift operation the bit which is being lost, or
                        pushed off the end of the register,
   73 00000040         ; "falls" into the C flag - then one can BCC (Branch Car
                       ry Clear) or BCS (Branch Carry Set) if the set was 0 or 
                       1
   74 00000040         
   75 00000040 FAB1 F281       CLZ              R2, R1
   76 00000044 FA01 F102       LSL              R1, R1, R2
   77 00000048         
   78 00000048         ; The Morse pattern has a variable number of leading zer
                       os which must be removed to get to the Morse pattern 
   79 00000048         ; One can use a loop, and peel off the leading 0's, unti
                       l there is a 1 bit to send  (no code provided)
   80 00000048         ;       The fastest way to do this is to count the numbe
                       r of leading zeros (CLZ) and use a shift left operation 
                       to remove those
   81 00000048         
   82 00000048         ;; add code to remove leading zeros
   83 00000048         
   84 00000048         ; Now use left left shift operation to peel off one bit 
                       at a time and turn the light on or off as necessary
   85 00000048         
   86 00000048         Shift_and_display
   87 00000048 0049            LSLS             R1, R1, #1  ; shift R1 left by 
                                                            1, because it's not
                                                             LSL but LSLS the b
                                                            it shifted off the 
                                                            end goes into the C
                                                             flag
   88 0000004A BF38 F000 
              F81E             BLCC             LED_OFF     ; branch somewhere 
                                                            it's zero because t
                                                            he Carry flag is cl
                                                            ear
   89 00000050 BF28 F000 
              F815             BLCS             LED_ON      ; branch somewhere 
                                                            - it's not zero bec
                                                            ause the Carry flag
                                                             is set
   90 00000056         
   91 00000056         ;  NOTE: ARM math, logic and branch instructions can be 
                       conditional and conditional branches can all jump to a s
                       ubroutine
   92 00000056         ;        So the above instructions could be BLCC and BLC
                       S to conditionally branch to subroutines
   93 00000056         
   94 00000056         ;  Delay after the LED has been turned on or off
   95 00000056         ;  init R0 before calling DELAY to set how long to delay



ARM Macro Assembler    Page 4 


                       
   96 00000056 F04F 0001       MOV              R0,#1
   97 0000005A F000 F81D       BL               DELAY
   98 0000005E F000 F815       BL               LED_OFF
   99 00000062 F091 0F00       TEQ              R1,#0
  100 00000066 D1EF            BNE              Shift_and_display
  101 00000068         
  102 00000068         ; NOTE: One interesting variation on this uses the fact 
                       that the computer is much faster and our vision.  If the
                        light is off, turned on
  103 00000068         ;  and turned off without a signif. time delay then the 
                       user will never see the light turn on.  This fact can be
                        used to shorten the code
  104 00000068         ;  which turns the lights on OR off
  105 00000068         
  106 00000068         ;  Now test R1 for zero to see if all bits are shifted a
                       s the last bit is always a 1 and it's followed by 0'sA
  107 00000068         
  108 00000068         ;; test R1 for 0 to see if we're done
  109 00000068         
  110 00000068         ;  If we're not done then loop back to Shift_and_display
                        to shift the next bit
  111 00000068         
  112 00000068         ;  If we're done then branch back to get the next charac
                       ter
  113 00000068 F04F 0003       MOV              R0,#3
  114 0000006C F000 F814       BL               DELAY
  115 00000070 E7D9            B                NextChar    ; This is the end o
                                                            f the main program 
                                                            
  116 00000072         
  117 00000072         
  118 00000072         ;
  119 00000072         ; Additional Work - Use The Speaker
  120 00000072         ; 
  121 00000072         ;
  122 00000072         ; The SpeakerBeep routine can be used to BOTH be the tim
                       e delay and create a sound
  123 00000072         ; Turning the LED on and off must also be done
  124 00000072         ; To control the time delay change the EQUate for Speake
                       rBeepLength
  125 00000072         ;
  126 00000072         
  127 00000072         
  128 00000072         
  129 00000072         ; Subroutines
  130 00000072         ;
  131 00000072         ;   convert ASCII character to Morse pattern
  132 00000072         ;   pass ASCII character in R0, output in R1
  133 00000072         ;   index into MorseLuT must be by steps of 2 bytes
  134 00000072         ;
  135 00000072         ; INPUT:  R0 ASCII character as a byte
  136 00000072         ; OUTPUT: R1 Morse Code pattern in the 16 lowest bits wi
                       th the upper 16 bits cleared
  137 00000072         
  138 00000072 B504    CHAR2MORSE
                               STMFD            R13!,{R2,R14} ; push Link Regis
                                                            ter (return address
                                                            ) on stack



ARM Macro Assembler    Page 5 


  139 00000074         ;
  140 00000074 F1A0 0041       SUB              R0,R0,#0x41 ;;  ... add code he
                                                            re to convert the A
                                                            SCII code to an ind
                                                            ex (subtract 41) an
                                                            d lookup the Morse 
                                                            patter in the Looku
                                                            p Table
  141 00000078 4400            ADD              R0,R0,R0
  142 0000007A 4A64            LDR              R2,=MorseLUT
  143 0000007C 5A11            LDRH             R1,[R2,R0]
  144 0000007E         ;
  145 0000007E BD04            LDMFD            R13!,{R2,R15} ; restore LR to R
                                                            15 the Program Coun
                                                            ter to return
  146 00000080         
  147 00000080         
  148 00000080         ; Turn the LED on, but deal with the stack in a simpler 
                       way
  149 00000080         ; NOTE: This method of returning from subroutine (BX  LR
                       ) does NOT work if subroutines are nested!!
  150 00000080         ;
  151 00000080         ; INPUT:  none
  152 00000080         ; OUTPUT:  none
  153 00000080         ;
  154 00000080         LED_ON                               ;push   {r3-r4}  ; 
                                                            preserve R3 and R4 
                                                            on the R13 stack
  155 00000080 B518            STMFD            R13!,{R3,R4,R14}
  156 00000082 F04F 0302       MOV              R3,#RED
  157 00000086 4C62            LDR              R4, =GPIO_PORTF_DATA_R
  158 00000088 6023            STR              R3,[R4]
  159 0000008A BD18            LDMFD            R13!,{R3,R4,R15}
  160 0000008C         ;... insert your code here
  161 0000008C         ;pop   {r3-r4}  ; restore R3 and R4 before returning
  162 0000008C         ;BX   LR  ; branch to the address in the Link Register. 
                        Ie return to the caller
  163 0000008C         
  164 0000008C         ; Turn the LED off, but deal with the stack in the prope
                       r way
  165 0000008C         ; the Link register gets pushed onto the stack so that s
                       ubroutines can be nested
  166 0000008C         ;
  167 0000008C         ; INPUT:  none
  168 0000008C         ; OUTPUT:  none
  169 0000008C         ;
  170 0000008C B518    LED_OFF STMFD            R13!,{R3,R4,R14} ; push R3 and 
                                                            Link Register (retu
                                                            rn address) on stac
                                                            k
  171 0000008E F04F 0300       MOV              R3,#0
  172 00000092 4C5F            LDR              R4, =GPIO_PORTF_DATA_R
  173 00000094 6023            STR              R3,[R4]     ;... insert your co
                                                            de here
  174 00000096 BD18            LDMFD            R13!,{R3,R4,R15} ; restore R3 a
                                                            nd LR to R15 the Pr
                                                            ogram Counter to re
                                                            turn
  175 00000098         



ARM Macro Assembler    Page 6 


  176 00000098         ; Delay 500ms * R0 times
  177 00000098         ; Use a modified delay loop from Lab-1
  178 00000098         ;
  179 00000098         ; INPUT:  R0 - how many times is the basic time loop run
                       ? 0 means none and just exit without any delay
  180 00000098         ; OUTPUT:  none
  181 00000098         ;
  182 00000098 B504    DELAY   STMFD            R13!,{R2, R14}
  183 0000009A F090 0F00 
                       MultipleDelay
                               TEQ              R0, #0      ; test R0 to see if
                                                             it's 0 and if so e
                                                            xit - this sets the
                                                             Zero flag so you c
                                                            an use BEQ, BNE
  184 0000009E         ;... insert your code here
  185 0000009E D005            BEQ              exitDelay
  186 000000A0 4A5D            LDR              R2, =SOMEDELAY
  187 000000A2         loop
  188 000000A2 1E52            SUBS             R2,R2,#1
  189 000000A4 D1FD            BNE              loop
  190 000000A6 F1A0 0001       SUB              R0,R0,#1
  191 000000AA E7F6            B                MultipleDelay
  192 000000AC BD04    exitDelay
                               LDMFD            R13!,{R2, R15}
  193 000000AE         
  194 000000AE         
  195 000000AE         
  196 000000AE         ;
  197 000000AE         ; Data used in the Morse Code program
  198 000000AE         ;
  199 000000AE         ; DCB is Define Constant Byte size
  200 000000AE         ; DCW is Define Constant Word (16-bit) size
  201 000000AE         ; EQU is EQUate or assign a value.  This uses no memory 
                       but instead of typing the same address in many places on
                       e can just use an EQU to then use a label
  202 000000AE         ;
  203 000000AE         
  204 000000AE         ; One way to provide a data to convert to Morse code is 
                       to use a string in memory.
  205 000000AE         ; Simply read bytes of the string until the NULL or "0" 
                       is hit.  This makes it very easy to loop until done.
  206 000000AE         ;
  207 000000AE 00 00           ALIGN                        ; make sure things 
                                                            fall on word addres
                                                            ses
  208 000000B0 41 57 4A 
              4C 42 00 InputLUT
                               DCB              "AWJLB", 0  ; strings must be s
                                                            tored, and read, as
                                                             BYTES
  209 000000B6         
  210 000000B6 00 00           ALIGN                        ; make sure things 
                                                            fall on word addres
                                                            ses
  211 000000B8         MorseLUT
  212 000000B8 17 00 D5 
              01 5D 07 
              75 00            DCW              0x17, 0x1D5, 0x75D, 0x75 



ARM Macro Assembler    Page 7 


                                                            ; A, B, C, D
  213 000000C0 01 00 5D 
              01 DD 01 
              55 00            DCW              0x1, 0x15D, 0x1DD, 0x55 
                                                            ; E, F, G, H
  214 000000C8 05 00 77 
              17 D7 01 
              75 01            DCW              0x5, 0x1777, 0x1D7, 0x175 
                                                            ; I, J, K, L
  215 000000D0 77 00 1D 
              00 77 07 
              DD 05            DCW              0x77, 0x1D, 0x777, 0x5DD 
                                                            ; M, N, O, P
  216 000000D8 D7 1D 5D 
              00 15 00 
              07 00            DCW              0x1DD7, 0x5D, 0x15, 0x7 
                                                            ; Q, R, S, T
  217 000000E0 57 00 57 
              01 77 01 
              57 07            DCW              0x57, 0x157, 0x177, 0x757 
                                                            ; U, V, W, X
  218 000000E8 77 1D 75 
              07               DCW              0x1D77, 0x775 ; Y, Z
  219 000000EC         
  220 000000EC         
  221 000000EC         
  222 000000EC         ; * * * * * * * * * * * * * * * * * * * * * * * * * * * 
                       * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
                       * * * * * * * * * 
  223 000000EC         ;   DO NOT EDIT CODE BELOW THIS LINE
  224 000000EC         ; * * * * * * * * * * * * * * * * * * * * * * * * * * * 
                       * * * * * * * * * * * * * * * * * * * * * * * * * * * * 
                       * * * * * * * * * 
  225 000000EC         ; Tons of initialization to be done in order to use the 
                       I/O ports as they're off by default.
  226 000000EC         ;
  227 000000EC         ; Define the addresses and provide functions to initiali
                       ze everything.
  228 000000EC         
  229 000000EC 40025400 
                       GPIO_PORTF_DIR_R
                               EQU              0x40025400  ; Port F Data Direc
                                                            tion Register setti
                                                            ng pins as input or
                                                             output
  230 000000EC 400253FC 
                       GPIO_PORTF_DATA_R
                               EQU              0x400253FC  ; address for readi
                                                            ng button inputs an
                                                            d writing to LEDs
  231 000000EC 40025420 
                       GPIO_PORTF_AFSEL_R
                               EQU              0x40025420
  232 000000EC 40025510 
                       GPIO_PORTF_PUR_R
                               EQU              0x40025510
  233 000000EC 4002551C 
                       GPIO_PORTF_DEN_R
                               EQU              0x4002551C



ARM Macro Assembler    Page 8 


  234 000000EC 40025520 
                       GPIO_PORTF_LOCK_R
                               EQU              0x40025520
  235 000000EC 40025524 
                       GPIO_PORTF_CR_R
                               EQU              0x40025524
  236 000000EC 40025528 
                       GPIO_PORTF_AMSEL_R
                               EQU              0x40025528
  237 000000EC 4002552C 
                       GPIO_PORTF_PCTL_R
                               EQU              0x4002552C
  238 000000EC         
  239 000000EC         ;Section 3.1.2 Nested Vector Interrupt Controller
  240 000000EC         
  241 000000EC         ;The Cortex-M4F processor supports interrupts and system
                        exceptions. The processor and the
  242 000000EC         ;Nested Vectored Interrupt Controller (NVIC) prioritize 
                       and handle all exceptions. An exception
  243 000000EC         ;changes the normal flow of software control. The proces
                       sor uses Handler mode to handle all
  244 000000EC         ;exceptions except for reset. See “Exception Entry and R
                       eturn” on page 108 for more information.
  245 000000EC         ;The NVIC registers control interrupt handling. See “Nes
                       ted Vectored Interrupt Controller
  246 000000EC         ;(NVIC)” on page 124 for more information.
  247 000000EC         
  248 000000EC         ;Table 3-8 on page 134 details interrupt Set / Clear 
  249 000000EC         ; they allow one to enable individual interrupts and DIS
                       ? lets one disable individual interrupt numbers
  250 000000EC         
  251 000000EC         ; Table 2-9 Interrupts on page 104 details interrupt num
                       ber / bit assignments
  252 000000EC         ; Port F - Bit 30
  253 000000EC         ; Timer 0A Bit 19
  254 000000EC         ; Timer 0B Bit 20
  255 000000EC         
  256 000000EC         ;For edge-triggered interrupts, software must clear the 
                       interrupt to enable any further interrupts.
  257 000000EC         
  258 000000EC         ; NOTE: The NMI (non-maskable interrupt) is on PF0.  Tha
                       t means that
  259 000000EC         ; the Alternate Function Select, Pull-Up Resistor, Pull-
                       Down Resistor,
  260 000000EC         ; and Digital Enable are all locked for PF0 until a valu
                       e of 0x4C4F434B
  261 000000EC         ; is written to the Port F GPIO Lock Register.  After Po
                       rt F is
  262 000000EC         ; unlocked, bit 0 of the Port F GPIO Commit Register mus
                       t be set to
  263 000000EC         ; allow access to PF0's control registers.  On the LM4F1
                       20, the other
  264 000000EC         ; bits of the Port F GPIO Commit Register are hard-wired
                        to 1, meaning
  265 000000EC         ; that the rest of Port F can always be freely re-config
                       ured at any
  266 000000EC         ; time.  Requiring this procedure makes it unlikely to a
                       ccidentally
  267 000000EC         ; re-configure the JTAG and NMI pins as GPIO, which can 



ARM Macro Assembler    Page 9 


                       lock the
  268 000000EC         ; debugger out of the processor and make it permanently 
                       unable to be
  269 000000EC         ; debugged or re-programmed.
  270 000000EC         
  271 000000EC         ; These are the configuration registers which should not
                        be touched
  272 000000EC         ; Port Base addresses for the legacy (not high-performan
                       ce) interface to I/O ports
  273 000000EC 40004000 
                       GPIO_PORTA
                               EQU              0x40004000
  274 000000EC 40005000 
                       GPIO_PORTB
                               EQU              0x40005000
  275 000000EC 40006000 
                       GPIO_PORTC
                               EQU              0x40006000
  276 000000EC 40007000 
                       GPIO_PORTD
                               EQU              0x40007000
  277 000000EC 40024000 
                       GPIO_PORTE
                               EQU              0x40024000
  278 000000EC 40025000 
                       GPIO_PORTF
                               EQU              0x40025000
  279 000000EC         
  280 000000EC         ; WARNING outputs PD0 & PD1 are shorted to PB6 and PB7 -
                        one pair MUST BE INPUTS!! - we disable D0, D1
  281 000000EC         
  282 000000EC         ; These are the masks for pins which are outputs, settin
                       g a bit to 1 makes the pin an output, 0 is input
  283 000000EC 000000FC 
                       PORT_A_MASK
                               EQU              0xfc        ; PA7,6,5,4,3,2 are
                                                             outputs for 7-segm
                                                            ent LEDs
  284 000000EC 000000FD 
                       PORT_B_MASK
                               EQU              0xfd        ; PB7,6,5,4,3,2,0 a
                                                            re LEDs
  285 000000EC 00000030 
                       PORT_C_MASK
                               EQU              0x30        ; this breaks progr
                                                            amming the CPU - DO
                                                             NOT ENABLE 
  286 000000EC 000000CC 
                       PORT_D_MASK
                               EQU              0xcc        ; PD7,6,3,2  Disabl
                                                            e D0, D1 due to sho
                                                            rt with B6, B7
  287 000000EC 00000037 
                       PORT_E_MASK
                               EQU              0x37        ; PE0,1,2,4,5 are u
                                                            sed for 7-segment, 
                                                            LED & speaker
  288 000000EC 0000000E 
                       PORT_F_MASK



ARM Macro Assembler    Page 10 


                               EQU              0x0e        ; PF has LEDs on PF
                                                            1,2,3 and buttons P
                                                            F0, PF4 (don't enab
                                                            le buttons as outpu
                                                            ts)
  289 000000EC         
  290 000000EC         ; Offsets are from table 10-6 on page 660
  291 000000EC 00000000 
                       GPIO_DATA_OFFSET
                               EQU              0x000       ; Data address is t
                                                            he base address - Y
                                                            OU HAVE TO ADD AN A
                                                            DDRESS MASK TOO to 
                                                            read or write this!
                                                            !
  292 000000EC 00000400 
                       GPIO_DIR_OFFSET
                               EQU              0x400       ; Direction registe
                                                            r
  293 000000EC 00000420 
                       GPIO_AFSEL_OFFSET
                               EQU              0x420       ; Alternate Functio
                                                            n SELection
  294 000000EC 00000510 
                       GPIO_PUR_OFFSET
                               EQU              0x510       ; Pull Up Resistors
                                                            
  295 000000EC 0000051C 
                       GPIO_DEN_OFFSET
                               EQU              0x51C       ; Digital ENable
  296 000000EC 00000520 
                       GPIO_LOCK_OFFSET
                               EQU              0x520
  297 000000EC 00000524 
                       GPIO_CR_OFFSET
                               EQU              0x524
  298 000000EC 00000528 
                       GPIO_AMSEL_OFFSET
                               EQU              0x528       ; Analog Mode SELec
                                                            t
  299 000000EC 0000052C 
                       GPIO_PCTL_OFFSET
                               EQU              0x52C
  300 000000EC         
  301 000000EC 400FE06C 
                       SYSCTL_HBCTL
                               EQU              0x400FE06C  ; high performance 
                                                            bus control for por
                                                            ts A to F
  302 000000EC         
  303 000000EC 4C4F434B 
                       GPIO_LOCK_KEY
                               EQU              0x4C4F434B  ; Unlocks the GPIO_
                                                            CR register
  304 000000EC 400FE608 
                       SYSCTL_RCGCGPIO_R
                               EQU              0x400FE608  ; Register to enabl
                                                            e clocks to the I/O
                                                             port hardware



ARM Macro Assembler    Page 11 


  305 000000EC         
  306 000000EC                 ALIGN                        ; make sure things 
                                                            fall on word addres
                                                            ses
  307 000000EC         
  308 000000EC         ;------------Port_Init------------
  309 000000EC         ; Initialize GPIO Port F for negative logic switches on 
                       PF0 and
  310 000000EC         ; PF4 as the Launchpad is wired.  Weak internal pull-up
  311 000000EC         ; resistors are enabled, and the NMI functionality on PF
                       0 is
  312 000000EC         ; disabled.  Make the RGB LED's pins outputs.
  313 000000EC         ; Input: none
  314 000000EC         ; Output: none
  315 000000EC         ; Modifies: R0, R1, R2, R3
  316 000000EC         Port_Init
  317 000000EC B500            STMFD            R13!,{R14}  ; push the LR or re
                                                            turn address
  318 000000EE         
  319 000000EE         ; First enable the clock to the I/O ports, by default th
                       e clocks are off to save power
  320 000000EE         ; If a clock is not enabled to a port and you access it 
                       - then the processor hard faults
  321 000000EE 494B            LDR              R1, =SYSCTL_RCGCGPIO_R ; activa
                                                            te clock for Ports 
                                                            (see page 340)
  322 000000F0 6808            LDR              R0, [R1]
  323 000000F2 F040 003F       ORR              R0, R0, #0x3F ; turn on clock t
                                                            o all 6 ports (A to
                                                             F, bits 0 to 5)
  324 000000F6 6008            STR              R0, [R1]
  325 000000F8 BF00            NOP
  326 000000FA BF00            NOP                          ; allow time for cl
                                                            ock to finish
  327 000000FC         
  328 000000FC         ; Set all ports to APB bus instead of AHB - this should 
                       be unnecessary
  329 000000FC         ; LDR R1, =SYSCTL_HBCTL
  330 000000FC         ; LDR R0, [R1]
  331 000000FC         ; AND R0, #0xFFFFFFE0  ; set Ports A thru F to APB (0) a
                       nd leave the rest at their default
  332 000000FC         ; STR R0, [R1]
  333 000000FC         
  334 000000FC         ; Page 650, Table 10-1 GPIO Pins with Special Considerat
                       ions.
  335 000000FC         ; These pins must be left as configured after reset:
  336 000000FC         ;  PA[5:0] (UART0 and SSIO), PB[3:2] (I2C), PC[3:0] (JTA
                       G)
  337 000000FC         
  338 000000FC         ; Initialize the I/O ports A, B, E, F via a common subro
                       utine Port_Init_Individual
  339 000000FC         ; Call Port_Init_Individual with the following paramater
                       s passed:
  340 000000FC         ; R1 is the base port address
  341 000000FC         ; R2 is the output pin mask (which bits are outputs)
  342 000000FC         ; R3 is the input pin mask  (which bits get configured a
                       s inputs)
  343 000000FC         
  344 000000FC F04F 0300       MOV              R3, #0x00   ; Select no pins as



ARM Macro Assembler    Page 12 


                                                             input (unless it's
                                                             changed as for por
                                                            t F)
  345 00000100         
  346 00000100         ; Init Port A, B, E are by default GPIO - set all output
                        pins used to a 1 to enable them
  347 00000100         ;   and leave all of the other pins as previously config
                       ured!
  348 00000100 F04F 2140       LDR              R1, =GPIO_PORTA
  349 00000104 F04F 02FC       MOV              R2, #PORT_A_MASK ; enable commi
                                                            t for Port, 1 means
                                                             allow access
  350 00000108 F000 F81A       BL               Port_Init_Individual
  351 0000010C         
  352 0000010C         ; Init Port B
  353 0000010C 4944            LDR              R1, =GPIO_PORTB
  354 0000010E F04F 02FD       MOV              R2, #PORT_B_MASK ; enable commi
                                                            t for Port, 1 means
                                                             allow access
  355 00000112 F000 F815       BL               Port_Init_Individual
  356 00000116         
  357 00000116         ; Init Port C
  358 00000116 4943            LDR              R1, =GPIO_PORTC
  359 00000118 F04F 0230       MOV              R2, #PORT_C_MASK
  360 0000011C         ;BL Port_Init_Individual
  361 0000011C         
  362 0000011C         ; Init Port D
  363 0000011C 4942            LDR              R1, =GPIO_PORTD
  364 0000011E F04F 02CC       MOV              R2, #PORT_D_MASK
  365 00000122 F000 F80D       BL               Port_Init_Individual
  366 00000126         
  367 00000126         ; Init Port E
  368 00000126 4941            LDR              R1, =GPIO_PORTE
  369 00000128 F04F 0237       MOV              R2, #PORT_E_MASK ; enable commi
                                                            t for Port, 1 means
                                                             allow access
  370 0000012C F000 F808       BL               Port_Init_Individual
  371 00000130         
  372 00000130         ; Init Port F
  373 00000130 493F            LDR              R1, =GPIO_PORTF
  374 00000132 F04F 020E       MOV              R2, #PORT_F_MASK ; enable commi
                                                            t for Port, 1 means
                                                             allow access
  375 00000136 F04F 0311       MOV              R3, #0x11   ; enable weak pull-
                                                            up on PF0 and PF4 (
                                                            buttons)
  376 0000013A F000 F801       BL               Port_Init_Individual
  377 0000013E         
  378 0000013E BD00            LDMFD            R13!,{R15}  ; pull the LR or re
                                                            turn address from t
                                                            he stack and return
                                                            
  379 00000140         
  380 00000140         
  381 00000140         ;------------Port_Init_Individual------------
  382 00000140         ; Initialize one GPIO Port with select bits as inputs an
                       d outputs
  383 00000140         ; Output: none
  384 00000140         ; Input: R1, R2, R3



ARM Macro Assembler    Page 13 


  385 00000140         ; R1 has to be the port address
  386 00000140         ; R2 has to hold the mask for output pins
  387 00000140         ; R3 has to be the mask for input pins
  388 00000140         ; Modifies: R0
  389 00000140         
  390 00000140         Port_Init_Individual
  391 00000140 B500            STMFD            R13!,{R14}  ; push the LR or re
                                                            turn address
  392 00000142 483C            LDR              R0, =0x4C4F434B ; unlock GPIO P
                                                            ort F Commit Regist
                                                            er
  393 00000144 F8C1 0520       STR              R0, [R1, #GPIO_LOCK_OFFSET] ; 2
                                                            ) unlock the lock r
                                                            egister
  394 00000148 EA42 0003       ORR              R0, R2, R3  ; all access to inp
                                                            uts and outputs as 
                                                            masked in R2 and R3
                                                            
  395 0000014C F8C1 0524       STR              R0, [R1, #GPIO_CR_OFFSET] ; ena
                                                            ble commit for Port
                                                             F
  396 00000150 F04F 0000       MOV              R0, #0      ; 0 means analog is
                                                             off
  397 00000154 F8C1 0528       STR              R0, [R1, #GPIO_AMSEL_OFFSET] ; 
                                                            3) disable analog f
                                                            unctionality
  398 00000158 F04F 0000       MOV              R0, #0x00000000 ; 0 means confi
                                                            gure Port F as GPIO
                                                            
  399 0000015C F8C1 052C       STR              R0, [R1, #GPIO_PCTL_OFFSET] ; 4
                                                            ) configure as GPIO
                                                            
  400 00000160 F8D1 0400       LDR              R0, [R1, #GPIO_DIR_OFFSET] ; 5)
                                                             read default direc
                                                            tion register confi
                                                            guration
  401 00000164 EA40 0002       ORR              R0, R2      ; ORR in only the b
                                                            its we want as outp
                                                            uts
  402 00000168 F8C1 0400       STR              R0, [R1, #GPIO_DIR_OFFSET] ; 5)
                                                             set direction regi
                                                            ster
  403 0000016C F04F 0000       MOV              R0, #0      ; 0 means disable a
                                                            lternate function 
  404 00000170 F8C1 0420       STR              R0, [R1, #GPIO_AFSEL_OFFSET] ; 
                                                            6) regular port fun
                                                            ction
  405 00000174 F8C1 3510       STR              R3, [R1, #GPIO_PUR_OFFSET] ; pu
                                                            ll-up resistors for
                                                             PF4,PF0
  406 00000178 F04F 00FF       MOV              R0, #0xFF   ; 1 means enable di
                                                            gital I/O
  407 0000017C F8C1 051C       STR              R0, [R1, #GPIO_DEN_OFFSET]
  408 00000180 BD00            LDMFD            R13!,{R15}  ; pull the LR or re
                                                            turn address and re
                                                            turn
  409 00000182         
  410 00000182         
  411 00000182         ; Beep the speaker on the ECE Shield using port E4 and E



ARM Macro Assembler    Page 14 


                       5
  412 00000182         ; The speaker is conencted to two pins - toggle each end
                        for more volume than a singled ended drive
  413 00000182         ;
  414 00000182         ; Each beep, sounded or not, is about the same length - 
                       0x300 loops of delay loop
  415 00000182         ;
  416 00000182         ; Input: R1 sets the tone - 0 is NO BEEP,
  417 00000182         ;                           1 is a high pitch beep and l
                       arger numbers are lower pitched
  418 00000182         ; Output: none
  419 00000182         
  420 00000182 00000300 
                       SpeakerBeepLength
                               EQU              0x300       ; the length of the
                                                             speaker beep
  421 00000182         
  422 00000182         SpeakerBeep
  423 00000182 E92D 481E       STMFD            R13!,{R1-R4, R11, R14} ; push t
                                                            he LR or return add
                                                            ress
  424 00000186         
  425 00000186 F04F 0430       MOV              R4, #0x30   ; This xor'd with t
                                                            he port holding the
                                                             speaker pins will 
                                                            create a beep
  426 0000018A F091 0F00       TEQ              R1, #0      ; If R1 = 0 then ju
                                                            st delay but do not
                                                             beep
  427 0000018E D103            BNE              make_a_sound
  428 00000190 F04F 0101       MOV              R1, #1      ; stick a valid val
                                                            ue into R1 as 0 wil
                                                            l divide by 0
  429 00000194 F04F 0400       MOV              R4, #0x0    ; setting R4 to 0 w
                                                            ill ensure that no 
                                                            beep will sound
  430 00000198         make_a_sound
  431 00000198 F44F 7340       MOV              R3, #SpeakerBeepLength ; how ma
                                                            ny loops of the bee
                                                            p delay do we do?  
                                                            Ie how long is the 
                                                            beep
  432 0000019C FBB3 F3F1       UDIV             R3, R1      ; loop the tone R1 
                                                            / R3 times to ensur
                                                            e a total of 0x100 
                                                            delays for all tone
                                                            s
  433 000001A0         
  434 000001A0 4A25            LDR              R2, =GPIO_PORTE + (PORT_E_MASK 
<< 2)
  435 000001A2 F8D2 B000       LDR              R11, [R2, #GPIO_DATA_OFFSET] ; 
                                                            get the initial val
                                                            ue - read-modify-wr
                                                            ite to only change 
                                                            2 bits
  436 000001A6 F00B 0BCF       AND              R11, #0xcf  ; clear two bits th
                                                            at the speaker is o
                                                            n
  437 000001AA F04B 0B10       ORR              R11, #0x10  ; initial speaker o



ARM Macro Assembler    Page 15 


                                                            utput (one side hig
                                                            h 0x10, the other l
                                                            ow 0x20)
  438 000001AE         buzz_loop
  439 000001AE F000 F80E       BL               ShortDelay  ; delay
  440 000001B2 EA8B 0B04       EOR              R11, R4     ; xor to toggle the
                                                             two speaker pins t
                                                            o create a beep
  441 000001B6 F8C2 B000       STR              R11, [R2, #GPIO_DATA_OFFSET]
  442 000001BA 3B01            SUBS             R3, #1
  443 000001BC D1F7            BNE              buzz_loop
  444 000001BE         ; now power down the speaker
  445 000001BE F8D2 B000       LDR              R11, [R2, #GPIO_DATA_OFFSET] ; 
                                                            restore the speaker
                                                             pins to 0V each
  446 000001C2 F00B 0BCF       AND              R11, #0xcf  ; clear two bits th
                                                            at the speaker is o
                                                            n
  447 000001C6 F8C2 B000       STR              R11, [R2, #GPIO_DATA_OFFSET]
  448 000001CA         
  449 000001CA E8BD 881E       LDMFD            R13!,{R1-R4, R11, R15} ; pull t
                                                            he LR or return add
                                                            ress and return
  450 000001CE         
  451 000001CE         ; ShortDelay subroutine - delay for a fixed amount of ti
                       me
  452 000001CE         ;
  453 000001CE         ; This is a crap piece of code - only use it as an examp
                       le for what never to do!!
  454 000001CE         ;
  455 000001CE         ; Input: R1 - how many times we repeat the fixed short d
                       elay
  456 000001CE         ; Output: none
  457 000001CE         
  458 000001CE 00000190 
                       SHORTDELAYCOUNT
                               EQU              400         ; faction of a seco
                                                            nd delay
  459 000001CE         
  460 000001CE         ShortDelay
  461 000001CE B503            STMFD            R13!,{R0, R1, R14} ; push the L
                                                            R or return address
                                                            
  462 000001D0         
  463 000001D0         delay_outer_loop
  464 000001D0 F091 0F00       TEQ              R1, #0
  465 000001D4 D100            BNE              not_done_delay
  466 000001D6 E007            B                done_delay
  467 000001D8         not_done_delay
  468 000001D8 F1A1 0101       SUB              R1, #1
  469 000001DC F44F 70C8       LDR              R0, =SHORTDELAYCOUNT ; R0 = a v
                                                            alue to get about a
                                                             second delay
  470 000001E0         delay_loop
  471 000001E0 1E40            SUBS             R0, R0, #1  ; R0 = R0 - 1 (coun
                                                            t = count - 1) and 
                                                            set N, Z, C status 
                                                            bits
  472 000001E2         ; Note: For SUBs the "s" suffix means to set the status 



ARM Macro Assembler    Page 16 


                       bits, without this the loops would not exit
  473 000001E2 B900            CBNZ             R0, delay_back ; compare if not
                                                             zero then keep cou
                                                            nting down
  474 000001E4 E7F4            B                delay_outer_loop
  475 000001E6         delay_back
  476 000001E6 E7FB            B                delay_loop
  477 000001E8         done_delay
  478 000001E8 BD03            LDMFD            R13!,{R0, R1, R15} ; pull the L
                                                            R or return address
                                                             and return
  479 000001EA         
  480 000001EA 00 00           ALIGN
  481 000001EC         
  482 000001EC         Port_Table
  483 000001EC 400043F0        DCD              GPIO_PORTA + (PORT_A_MASK << 2)
 
                                                            ; DCD - Define Cons
                                                            tant Double Word (3
                                                            2-bits)
  484 000001F0 400053F4 
              400060C0         DCD              GPIO_PORTB + (PORT_B_MASK << 2)
, GPIO_PORTC + (PORT_C_MASK << 2)
  485 000001F8 40007330 
              400240DC         DCD              GPIO_PORTD + (PORT_D_MASK << 2)
, GPIO_PORTE + (PORT_E_MASK << 2)
  486 00000200 40025038 
              00000000         DCD              GPIO_PORTF + (PORT_F_MASK << 2)
, 0
  487 00000208         
  488 00000208                 ALIGN                        ; make sure the end
                                                             of this section is
                                                             aligned
  489 00000208                 END                          ; end of file - not
                                                            hing after this is 
                                                            assembled
              00000000 
              00000000 
              400253FC 
              00000000 
              002932E0 
              400FE608 
              40005000 
              40006000 
              40007000 
              40024000 
              40025000 
              4C4F434B 
              400240DC 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\lab2_tiva_template.d -o.\objects\lab2_tiva_template.o
 -I"N:\ECE 222\lab2\RTE" -IC:\Software\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Dev
ice\Include\TM4C123 -IC:\Software\Keil_v5\ARM\CMSIS\Include --predefine="__EVAL
 SETA 1" --predefine="__UVISION_VERSION SETA 516" --predefine="TM4C123GH6PM SET
A 1" --list=.\listings\lab2_tiva_template.lst lab2_tiva_template.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 14 in file lab2_tiva_template.s
   Uses
      None
Comment: .text unused
CHAR2MORSE 00000072

Symbol: CHAR2MORSE
   Definitions
      At line 138 in file lab2_tiva_template.s
   Uses
      At line 70 in file lab2_tiva_template.s
Comment: CHAR2MORSE used once
DELAY 00000098

Symbol: DELAY
   Definitions
      At line 182 in file lab2_tiva_template.s
   Uses
      At line 67 in file lab2_tiva_template.s
      At line 97 in file lab2_tiva_template.s
      At line 114 in file lab2_tiva_template.s

InputLUT 000000B0

Symbol: InputLUT
   Definitions
      At line 208 in file lab2_tiva_template.s
   Uses
      At line 56 in file lab2_tiva_template.s
Comment: InputLUT used once
LED_OFF 0000008C

Symbol: LED_OFF
   Definitions
      At line 170 in file lab2_tiva_template.s
   Uses
      At line 88 in file lab2_tiva_template.s
      At line 98 in file lab2_tiva_template.s

LED_ON 00000080

Symbol: LED_ON
   Definitions
      At line 154 in file lab2_tiva_template.s
   Uses
      At line 89 in file lab2_tiva_template.s
Comment: LED_ON used once
MorseLUT 000000B8

Symbol: MorseLUT
   Definitions
      At line 211 in file lab2_tiva_template.s
   Uses
      At line 142 in file lab2_tiva_template.s
Comment: MorseLUT used once



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

MultipleDelay 0000009A

Symbol: MultipleDelay
   Definitions
      At line 183 in file lab2_tiva_template.s
   Uses
      At line 191 in file lab2_tiva_template.s
Comment: MultipleDelay used once
NextChar 00000026

Symbol: NextChar
   Definitions
      At line 58 in file lab2_tiva_template.s
   Uses
      At line 115 in file lab2_tiva_template.s
Comment: NextChar used once
Port_Init 000000EC

Symbol: Port_Init
   Definitions
      At line 316 in file lab2_tiva_template.s
   Uses
      At line 31 in file lab2_tiva_template.s
Comment: Port_Init used once
Port_Init_Individual 00000140

Symbol: Port_Init_Individual
   Definitions
      At line 390 in file lab2_tiva_template.s
   Uses
      At line 350 in file lab2_tiva_template.s
      At line 355 in file lab2_tiva_template.s
      At line 365 in file lab2_tiva_template.s
      At line 370 in file lab2_tiva_template.s
      At line 376 in file lab2_tiva_template.s

Port_Table 000001EC

Symbol: Port_Table
   Definitions
      At line 482 in file lab2_tiva_template.s
   Uses
      None
Comment: Port_Table unused
ProcessChar 0000003C

Symbol: ProcessChar
   Definitions
      At line 70 in file lab2_tiva_template.s
   Uses
      At line 62 in file lab2_tiva_template.s
Comment: ProcessChar used once
ResetLUT 00000024

Symbol: ResetLUT
   Definitions
      At line 55 in file lab2_tiva_template.s
   Uses
      At line 68 in file lab2_tiva_template.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

Comment: ResetLUT used once
Shift_and_display 00000048

Symbol: Shift_and_display
   Definitions
      At line 86 in file lab2_tiva_template.s
   Uses
      At line 100 in file lab2_tiva_template.s
Comment: Shift_and_display used once
ShortDelay 000001CE

Symbol: ShortDelay
   Definitions
      At line 460 in file lab2_tiva_template.s
   Uses
      At line 439 in file lab2_tiva_template.s
Comment: ShortDelay used once
SpeakerBeep 00000182

Symbol: SpeakerBeep
   Definitions
      At line 422 in file lab2_tiva_template.s
   Uses
      At line 43 in file lab2_tiva_template.s
      At line 46 in file lab2_tiva_template.s
      At line 49 in file lab2_tiva_template.s
      At line 52 in file lab2_tiva_template.s

Start 00000000

Symbol: Start
   Definitions
      At line 28 in file lab2_tiva_template.s
   Uses
      At line 16 in file lab2_tiva_template.s
Comment: Start used once
buzz_loop 000001AE

Symbol: buzz_loop
   Definitions
      At line 438 in file lab2_tiva_template.s
   Uses
      At line 443 in file lab2_tiva_template.s
Comment: buzz_loop used once
delay_back 000001E6

Symbol: delay_back
   Definitions
      At line 475 in file lab2_tiva_template.s
   Uses
      At line 473 in file lab2_tiva_template.s
Comment: delay_back used once
delay_loop 000001E0

Symbol: delay_loop
   Definitions
      At line 470 in file lab2_tiva_template.s
   Uses
      At line 476 in file lab2_tiva_template.s



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols

Comment: delay_loop used once
delay_outer_loop 000001D0

Symbol: delay_outer_loop
   Definitions
      At line 463 in file lab2_tiva_template.s
   Uses
      At line 474 in file lab2_tiva_template.s
Comment: delay_outer_loop used once
done_delay 000001E8

Symbol: done_delay
   Definitions
      At line 477 in file lab2_tiva_template.s
   Uses
      At line 466 in file lab2_tiva_template.s
Comment: done_delay used once
exitDelay 000000AC

Symbol: exitDelay
   Definitions
      At line 192 in file lab2_tiva_template.s
   Uses
      At line 185 in file lab2_tiva_template.s
Comment: exitDelay used once
loop 000000A2

Symbol: loop
   Definitions
      At line 187 in file lab2_tiva_template.s
   Uses
      At line 189 in file lab2_tiva_template.s
Comment: loop used once
make_a_sound 00000198

Symbol: make_a_sound
   Definitions
      At line 430 in file lab2_tiva_template.s
   Uses
      At line 427 in file lab2_tiva_template.s
Comment: make_a_sound used once
not_done_delay 000001D8

Symbol: not_done_delay
   Definitions
      At line 467 in file lab2_tiva_template.s
   Uses
      At line 465 in file lab2_tiva_template.s
Comment: not_done_delay used once
27 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

BLUE 00000004

Symbol: BLUE
   Definitions
      At line 21 in file lab2_tiva_template.s
   Uses
      None
Comment: BLUE unused
GPIO_AFSEL_OFFSET 00000420

Symbol: GPIO_AFSEL_OFFSET
   Definitions
      At line 293 in file lab2_tiva_template.s
   Uses
      At line 404 in file lab2_tiva_template.s
Comment: GPIO_AFSEL_OFFSET used once
GPIO_AMSEL_OFFSET 00000528

Symbol: GPIO_AMSEL_OFFSET
   Definitions
      At line 298 in file lab2_tiva_template.s
   Uses
      At line 397 in file lab2_tiva_template.s
Comment: GPIO_AMSEL_OFFSET used once
GPIO_CR_OFFSET 00000524

Symbol: GPIO_CR_OFFSET
   Definitions
      At line 297 in file lab2_tiva_template.s
   Uses
      At line 395 in file lab2_tiva_template.s
Comment: GPIO_CR_OFFSET used once
GPIO_DATA_OFFSET 00000000

Symbol: GPIO_DATA_OFFSET
   Definitions
      At line 291 in file lab2_tiva_template.s
   Uses
      At line 435 in file lab2_tiva_template.s
      At line 441 in file lab2_tiva_template.s
      At line 445 in file lab2_tiva_template.s
      At line 447 in file lab2_tiva_template.s

GPIO_DEN_OFFSET 0000051C

Symbol: GPIO_DEN_OFFSET
   Definitions
      At line 295 in file lab2_tiva_template.s
   Uses
      At line 407 in file lab2_tiva_template.s
Comment: GPIO_DEN_OFFSET used once
GPIO_DIR_OFFSET 00000400

Symbol: GPIO_DIR_OFFSET
   Definitions
      At line 292 in file lab2_tiva_template.s
   Uses
      At line 400 in file lab2_tiva_template.s
      At line 402 in file lab2_tiva_template.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols


GPIO_LOCK_KEY 4C4F434B

Symbol: GPIO_LOCK_KEY
   Definitions
      At line 303 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_LOCK_KEY unused
GPIO_LOCK_OFFSET 00000520

Symbol: GPIO_LOCK_OFFSET
   Definitions
      At line 296 in file lab2_tiva_template.s
   Uses
      At line 393 in file lab2_tiva_template.s
Comment: GPIO_LOCK_OFFSET used once
GPIO_PCTL_OFFSET 0000052C

Symbol: GPIO_PCTL_OFFSET
   Definitions
      At line 299 in file lab2_tiva_template.s
   Uses
      At line 399 in file lab2_tiva_template.s
Comment: GPIO_PCTL_OFFSET used once
GPIO_PORTA 40004000

Symbol: GPIO_PORTA
   Definitions
      At line 273 in file lab2_tiva_template.s
   Uses
      At line 348 in file lab2_tiva_template.s
      At line 483 in file lab2_tiva_template.s

GPIO_PORTB 40005000

Symbol: GPIO_PORTB
   Definitions
      At line 274 in file lab2_tiva_template.s
   Uses
      At line 353 in file lab2_tiva_template.s
      At line 484 in file lab2_tiva_template.s

GPIO_PORTC 40006000

Symbol: GPIO_PORTC
   Definitions
      At line 275 in file lab2_tiva_template.s
   Uses
      At line 358 in file lab2_tiva_template.s
      At line 484 in file lab2_tiva_template.s

GPIO_PORTD 40007000

Symbol: GPIO_PORTD
   Definitions
      At line 276 in file lab2_tiva_template.s
   Uses
      At line 363 in file lab2_tiva_template.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

      At line 485 in file lab2_tiva_template.s

GPIO_PORTE 40024000

Symbol: GPIO_PORTE
   Definitions
      At line 277 in file lab2_tiva_template.s
   Uses
      At line 368 in file lab2_tiva_template.s
      At line 434 in file lab2_tiva_template.s
      At line 485 in file lab2_tiva_template.s

GPIO_PORTF 40025000

Symbol: GPIO_PORTF
   Definitions
      At line 278 in file lab2_tiva_template.s
   Uses
      At line 373 in file lab2_tiva_template.s
      At line 486 in file lab2_tiva_template.s

GPIO_PORTF_AFSEL_R 40025420

Symbol: GPIO_PORTF_AFSEL_R
   Definitions
      At line 231 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_AFSEL_R unused
GPIO_PORTF_AMSEL_R 40025528

Symbol: GPIO_PORTF_AMSEL_R
   Definitions
      At line 236 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_AMSEL_R unused
GPIO_PORTF_CR_R 40025524

Symbol: GPIO_PORTF_CR_R
   Definitions
      At line 235 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_CR_R unused
GPIO_PORTF_DATA_R 400253FC

Symbol: GPIO_PORTF_DATA_R
   Definitions
      At line 230 in file lab2_tiva_template.s
   Uses
      At line 157 in file lab2_tiva_template.s
      At line 172 in file lab2_tiva_template.s

GPIO_PORTF_DEN_R 4002551C

Symbol: GPIO_PORTF_DEN_R
   Definitions
      At line 233 in file lab2_tiva_template.s



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols

   Uses
      None
Comment: GPIO_PORTF_DEN_R unused
GPIO_PORTF_DIR_R 40025400

Symbol: GPIO_PORTF_DIR_R
   Definitions
      At line 229 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_DIR_R unused
GPIO_PORTF_LOCK_R 40025520

Symbol: GPIO_PORTF_LOCK_R
   Definitions
      At line 234 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_LOCK_R unused
GPIO_PORTF_PCTL_R 4002552C

Symbol: GPIO_PORTF_PCTL_R
   Definitions
      At line 237 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_PCTL_R unused
GPIO_PORTF_PUR_R 40025510

Symbol: GPIO_PORTF_PUR_R
   Definitions
      At line 232 in file lab2_tiva_template.s
   Uses
      None
Comment: GPIO_PORTF_PUR_R unused
GPIO_PUR_OFFSET 00000510

Symbol: GPIO_PUR_OFFSET
   Definitions
      At line 294 in file lab2_tiva_template.s
   Uses
      At line 405 in file lab2_tiva_template.s
Comment: GPIO_PUR_OFFSET used once
GREEN 00000008

Symbol: GREEN
   Definitions
      At line 22 in file lab2_tiva_template.s
   Uses
      None
Comment: GREEN unused
PORT_A_MASK 000000FC

Symbol: PORT_A_MASK
   Definitions
      At line 283 in file lab2_tiva_template.s
   Uses
      At line 349 in file lab2_tiva_template.s
      At line 483 in file lab2_tiva_template.s



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols


PORT_B_MASK 000000FD

Symbol: PORT_B_MASK
   Definitions
      At line 284 in file lab2_tiva_template.s
   Uses
      At line 354 in file lab2_tiva_template.s
      At line 484 in file lab2_tiva_template.s

PORT_C_MASK 00000030

Symbol: PORT_C_MASK
   Definitions
      At line 285 in file lab2_tiva_template.s
   Uses
      At line 359 in file lab2_tiva_template.s
      At line 484 in file lab2_tiva_template.s

PORT_D_MASK 000000CC

Symbol: PORT_D_MASK
   Definitions
      At line 286 in file lab2_tiva_template.s
   Uses
      At line 364 in file lab2_tiva_template.s
      At line 485 in file lab2_tiva_template.s

PORT_E_MASK 00000037

Symbol: PORT_E_MASK
   Definitions
      At line 287 in file lab2_tiva_template.s
   Uses
      At line 369 in file lab2_tiva_template.s
      At line 434 in file lab2_tiva_template.s
      At line 485 in file lab2_tiva_template.s

PORT_F_MASK 0000000E

Symbol: PORT_F_MASK
   Definitions
      At line 288 in file lab2_tiva_template.s
   Uses
      At line 374 in file lab2_tiva_template.s
      At line 486 in file lab2_tiva_template.s

RED 00000002

Symbol: RED
   Definitions
      At line 20 in file lab2_tiva_template.s
   Uses
      At line 156 in file lab2_tiva_template.s
Comment: RED used once
SHORTDELAYCOUNT 00000190

Symbol: SHORTDELAYCOUNT
   Definitions



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

      At line 458 in file lab2_tiva_template.s
   Uses
      At line 469 in file lab2_tiva_template.s
Comment: SHORTDELAYCOUNT used once
SOMEDELAY 002932E0

Symbol: SOMEDELAY
   Definitions
      At line 26 in file lab2_tiva_template.s
   Uses
      At line 186 in file lab2_tiva_template.s
Comment: SOMEDELAY used once
SW1 00000010

Symbol: SW1
   Definitions
      At line 23 in file lab2_tiva_template.s
   Uses
      None
Comment: SW1 unused
SW2 00000001

Symbol: SW2
   Definitions
      At line 24 in file lab2_tiva_template.s
   Uses
      None
Comment: SW2 unused
SYSCTL_HBCTL 400FE06C

Symbol: SYSCTL_HBCTL
   Definitions
      At line 301 in file lab2_tiva_template.s
   Uses
      None
Comment: SYSCTL_HBCTL unused
SYSCTL_RCGCGPIO_R 400FE608

Symbol: SYSCTL_RCGCGPIO_R
   Definitions
      At line 304 in file lab2_tiva_template.s
   Uses
      At line 321 in file lab2_tiva_template.s
Comment: SYSCTL_RCGCGPIO_R used once
SpeakerBeepLength 00000300

Symbol: SpeakerBeepLength
   Definitions
      At line 420 in file lab2_tiva_template.s
   Uses
      At line 431 in file lab2_tiva_template.s
Comment: SpeakerBeepLength used once
41 symbols
404 symbols in table
